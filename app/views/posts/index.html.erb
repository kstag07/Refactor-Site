<!DOCTYPE html>
<html>

<head>
  <title></title>
  <link href='http://fonts.googleapis.com/css?family=Questrial' rel='stylesheet' type='text/css'>


</head>

<body>
  <% unless current_user.present? %>
    <section class="hero">
      <h1>Refactors</h1>
      <h4 id="herotext">Because every line of code is an opportunity for optimization.</h4>
      <p>Refactors is a community of like-minded coders seeking to improve their code together.</br>
      <p>Post code to be refactored or browse code to refactor and help each other.</p>
      <%= link_to 'Post a refactor', "#modal-one", class: "button" %>
      <!-- <%= link_to 'Post a refactor', new_user_registration_path, class: "button" %> -->
      <!-- <a href="#modal-one" class="button">Post a refactor</a> -->
    </section>
  <% end %>

  <main class="flex-main">
    <article>

      <section class="flex-filter">
        <h4>Latest Refactors</h4>
        <!-- This form will filter posts by language -->
        <div class="filter">
          <%= form_tag(posts_path, class: "filterbox", method: "get", id: "filter-form") do %>
            <%= select_tag(:filter, options_from_collection_for_select(Post::LANGUAGE_OPTIONS, :first, :last), {include_blank: true}) %>
            <%= submit_tag("Filter") %>
          <% end %>
        </div>
      </section>

      <div class="flex-postcontainer">
        <% @posts.each do |post| %>
          <section class="refactorpost", id="<%= dom_id(post) %>">
            <div class="flex-vote">
              <a>
                <%= link_to "Upvote", upvote_post_path(post), method: :put %>
                <svg class="voteup" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 26.279 13.502" enable-background="new 0 0 26.279 13.502" xml:space="preserve">
                <polygon points="0,13.5 13.1,0 26.3,13.5"/>
                </svg>

              </a>
              <span class="votecounter"><%= post.votes_for.size %></span>
              <a>
                <svg class="votedown" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 26.279 13.502" enable-background="new 0 0 26.279 13.502" xml:space="preserve">
                <polygon points="26.3,0 13.1,13.5 0,0"/>
                </svg>
                <%= link_to "Downvote", downvote_post_path(post), method: :put %>
              </a>
            </div>
            <div class="flex-posttitle">
              <h3><%= link_to post.title, post %></h3>
              <h4 class="username">By: <%= link_to post.author.name, user_path(id: post.author), class: "username" %></h4>
              <a class="language-tag"><%= Post::LANGUAGE_OPTIONS[post.language] %></a>
            </div>

          </section>
        <% end %>
      </div>
    </article>
  </main>
  <div class="minheight"></div>
  <footer>
    <p>Copyright Refactors Â© 2014</p>
  </footer>
</body>
</html>
