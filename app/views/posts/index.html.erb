<!DOCTYPE html>
<html>

<head>
  <title></title>
  <link href='http://fonts.googleapis.com/css?family=Questrial' rel='stylesheet' type='text/css'>

  <!-- Modal starts here -->
  <div class="modal" id="modal-one" aria-hidden="true">
    <div class="modal-dialog ">
      <div class="modal-login">
        <div class="modal-loginbody">
          <form>
            <input type="text" placeholder="Email">
            <input type="text" placeholder="Password">
           </form>
         <a href="#" class="button">login</a>
        </div>
      </div>
      <div class="modal-register">
        <a href="#" class="btn-close" aria-hidden="true">x</a>
        <div class="modal-registerbody">
          
          <%= link_to user_omniauth_authorize_path(:github) do %>
            <svg class="gitreg_button" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 325 92" enable-background="new 0 0 325 92" xml:space="preserve">
              <path fill="#51B5AF" d="M325 84.8c0 3.976-3.224 7.2-7.2 7.2H7.2C3.224 92 0 88.8 0 84.8V7.2C0 3.2 3.2 0 7.2 0h310.6 c3.976 0 7.2 3.2 7.2 7.2V84.8z"/>
              <path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M51.323 21.613c-13.807 0-25.003 11.195-25.003 25 c0 11 7.2 20.4 17.1 23.725c1.25 0.2 1.707-0.543 1.707-1.205c0-0.594-0.022-2.166-0.034-4.253 c-6.955 1.511-8.423-3.352-8.423-3.352c-1.137-2.889-2.776-3.658-2.776-3.658c-2.27-1.551 0.172-1.52 0.172-1.52 c2.509 0.2 3.8 2.6 3.8 2.577c2.231 3.8 5.9 2.7 7.3 2.078c0.227-1.616 0.873-2.718 1.588-3.343 c-5.552-0.631-11.39-2.776-11.39-12.358c0-2.73 0.974-4.962 2.574-6.71c-0.257-0.633-1.115-3.175 0.245-6.617 c0 0 2.099-0.672 6.9 2.563c1.994-0.555 4.133-0.832 6.26-0.842c2.123 0 4.3 0.3 6.3 0.8 c4.774-3.236 6.869-2.563 6.869-2.563c1.364 3.4 0.5 6 0.2 6.617c1.603 1.7 2.6 4 2.6 6.7 c0 9.606-5.846 11.72-11.417 12.339c0.898 0.8 1.7 2.3 1.7 4.631c0 3.343-0.031 6.04-0.031 6.9 c0 0.7 0.5 1.4 1.7 1.202c9.927-3.313 17.085-12.679 17.085-23.722C76.329 32.8 65.1 21.6 51.3 21.613z"/>
              <rect x="86.5" y="40.1" fill="none" width="208.1" height="15.9"/>
              <text transform="matrix(1 0 0 1 88.1648 53.7366)" fill="#FFFFFF" font-family="'OpenSans-Semibold'" font-size="18">SIGN IN WITH GITHUB</text>
            </svg>
          <% end %>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal ends here -->
</head>

<body>
  <% unless current_user.present? %>
    <section class="hero">
      <h1>Refactors</h1>
      <h4 id="herotext">Because every line of code is an opportunity for optimization.</h4>
      <p>Refactors is a community of like-minded coders seeking to improve their code together.</br>
      <p>Post code to be refactored or browse code to refactor and help each other.</p>
      <%= link_to 'Post a refactor', "#modal-one", class: "button" %>
      <!-- <%= link_to 'Post a refactor', new_user_registration_path, class: "button" %> -->
      <!-- <a href="#modal-one" class="button">Post a refactor</a> -->
    </section>
  <% end %>

  <main class="flex-main">
    <article>

      <section class="flex-filter">
        <h4>Latest Refactors</h4>
        <!-- This form will filter posts by language -->
        <div class="filter">
          <%= form_tag(posts_path, class: "filterbox", method: "get", id: "filter-form") do %>
            <%= select_tag(:filter, options_from_collection_for_select(Post::LANGUAGE_OPTIONS, :first, :last), {include_blank: true}) %>
            <%= submit_tag("Filter") %>
          <% end %>
        </div>
      </section>

      <div class="flex-postcontainer">
        <% @posts.each do |post| %>
          <section class="refactorpost", id="<%= dom_id(post) %>">
            <div class="flex-vote">
              <a>
                <%= link_to "Upvote", upvote_post_path(post), method: :put %>
                <svg class="voteup" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 26.279 13.502" enable-background="new 0 0 26.279 13.502" xml:space="preserve">
                <polygon points="0,13.5 13.1,0 26.3,13.5"/>
                </svg>
              </a>
              <span class="votecounter"><%= post.votes_for.size %></span>
              <a>
                <svg class="votedown" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 26.279 13.502" enable-background="new 0 0 26.279 13.502" xml:space="preserve">
                <polygon points="26.3,0 13.1,13.5 0,0"/>
                </svg>
                <%= link_to "Downvote", downvote_post_path(post), method: :put %>
              </a>
            </div>
            <div class="flex-posttitle">
              <h3><%= link_to post.title, post %></h3>
              <h4 class="username">By: <%= link_to post.author.name, user_path(id: post.author), class: "username" %></h4>
              <a class="language-tag"><%= Post::LANGUAGE_OPTIONS[post.language] %></a>
            </div>

          </section>
        <% end %>
      </div>
    </article>
  </main>
  <div class="minheight"></div>
  <footer>
    <p>Copyright Refactors Â© 2014</p>
  </footer>
</body>
</html>
